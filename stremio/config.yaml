---
version: 1.0.2
name: Stremio Server
slug: stremio_server
description: Run Stremio server on Home Assistant OS with hardware acceleration and VPN support
url: https://github.com/guillaume-elambert/hassio-stremio-server/tree/main/stremio
arch:
  - aarch64
  - amd64
  - armv7
startup: services
webui: "[PROTO:web_ui_protocol]://[HOST]:[PORT:8080]/"
hassio_api: true

options:
  web_ui_protocol: https
  ipaddress: "0.0.0.0"
  auto_server_url: true
  no_cors: true
  casting_disabled: false
  webui_location: ""
  ffmpeg_bin: ""
  ffprobe_bin: ""
  app_path: ""
  domain: ""
  cert_file: ""
  username: ""
  password: ""
  disable_caching: false
  localStorage: ""
  vpn_enabled: false
  vpn_type: "openvpn"

schema:
  web_ui_protocol: list(http|https)
  ipaddress: str
  server_url: str?
  auto_server_url: bool
  no_cors: bool
  casting_disabled: bool
  webui_location: str
  webui_internal_port: int?
  ffmpeg_bin: str
  ffprobe_bin: str
  app_path: str
  domain: str
  cert_file: str
  username: str
  password: str
  disable_caching: bool
  localStorage: str
  
  # VPN Configuration
  vpn_enabled: bool
  vpn_type: list(openvpn|wireguard)?
  vpn_service_provider: list(custom|airvpn|cyberghost|expressvpn|fastestvpn|giganews|hidemyass|ipvanish|ivpn|mullvad|nordvpn|perfect privacy|privado|private internet access|privatevpn|protonvpn|purevpn|slickvpn|surfshark|torguard|vpnsecure|vpn unlimited|vyprvpn|wevpn|windscribe)?
  vpn_config_filename: str?
  vpn_config_filename: str?
  vpn_username: str?
  vpn_password: password?
  vpn_server_countries: str?
  vpn_server_regions: str?
  vpn_server_cities: str?
  vpn_server_hostnames: str?
  vpn_port_forwarding: bool?
  debug_enabled: bool?

ports:
  8080/tcp: 8080

ports_description:
  8080/tcp: Stremio Web UI port

# Hardware acceleration and network capabilities
devices:
  - /dev/dri
  - /dev/dri/card0
  - /dev/dri/card1
  - /dev/dri/renderD128
  - /dev/vchiq
  - /dev/net/tun

privileged:
  - NET_ADMIN
  - SYS_MODULE

map:
  - media:rw
  - share:rw
  - ssl:ro
  - addon_config:rw